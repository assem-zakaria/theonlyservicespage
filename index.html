<!DOCTYPE HTML>
<html lang="en-US" class="no-scroll">

<head>
    <meta charset="utf-8">
    <title>The Only Agency Intro Animation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="The Only Agency Intro Animation"/>

    <!-- Begin Stylesheets -->
        <link type="text/css" rel="stylesheet" href="css/reset.css">
        <link type="text/css" rel="stylesheet" href="css/swiper-bundle.min.css">
        <link type="text/css" rel="stylesheet" href="css/styles.css">
    <!-- End Stylesheets -->
</head>


<body>

    <!--  Begin Black Intro Div  -->
        <div id="black_intro_div"></div>
    <!--  End Black Intro Div  -->


    <!-- Begin Main -->
        <main>

            <canvas id="serviceCanvas"></canvas>


            <!--  Services List  -->
            <section id="services_list_section">
                
                <!--  Item  -->
                    <div class="service-list-item">
                        <div class="sli-wrapper">
                            <h3>Website Design & Development</h3>

                            <div class="sli-right-cont">
                                <p>In a world moving at the speed of light, we don’t just keep up with change; we lead it. Our digital innovation services turn ideas into interactive experiences and transform websites into gateways to new worlds alive with possibilities.</p>

                                <div class="sli-dropdown">
                                    <button>
                                        SHOW MORE
                                        <div>
                                            <img src="./images/down-arrow.png">
                                            <img src="./images/close-button.png">
                                        </div>
                                    </button>
                                    <ul>
                                        <li>SITE ARCHITECTURE PLANNING</li>
                                        <li>UI/UX DESIGN</li>
                                        <li>WEBSITE DEVELOPMENT</li>
                                        <li>MAINTENANCE & TECHNICAL SUPPORT</li> 
                                        <li>PERFORMANCE ANALYSIS & REPORTING</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                <!--  Item  -->
                    <div class="service-list-item">
                        <div class="sli-wrapper">
                            <h3>SEARCH ENGINE OPTIMIZATION</h3>

                            <div class="sli-right-cont">
                                <p>We are the global #1 in search engine optimization. Visibility isn’t enough—you need to lead. Our SEO strategies elevate your digital presence, making your brand the top choice in search results and delivering impactful performance that amplifies your reach and appeal.</p>

                                <div class="sli-dropdown">
                                    <button>
                                        SHOW MORE
                                        <div>
                                            <img src="./images/down-arrow.png">
                                            <img src="./images/close-button.png">
                                        </div>
                                    </button>
                                    <ul>
                                        <li>SEO DEVELOPMENT</li>
                                        <li>PERFORMANCE ANALYSIS & REPORTING</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                <!--  Item  -->
                    <div class="service-list-item">
                        <div class="sli-wrapper">
                            <h3>DATA ANALYSIS & MONITORING</h3>

                            <div class="sli-right-cont">
                                <p>In a world full of information, data analysis is the key to understanding audiences and making strategic decisions. We leverage the latest tools and technologies to monitor audience sentiments, study competitors, and analyze market trends. Our goal is to turn data into actionable insights that help your brand stand out and stay ahead.</p>

                                <div class="sli-dropdown">
                                    <button>
                                        SHOW MORE
                                        <div>
                                            <img src="./images/down-arrow.png">
                                            <img src="./images/close-button.png">
                                        </div>
                                    </button>
                                    <ul>
                                        <li>Social Media and Sentiment Analysis Report (SMSA)</li>
                                        <li>Advanced Social Media and Sentiment Analysis Report (ASMSA)</li>
                                        <li>Advanced Social Media and Sentiment Analysis (Industry) Report (ASMSAI)</li>
                                        <li>Share of Voice Analysis Report (SVA)</li>
                                        <li>Competitors Analysis Report (CA)</li>
                                        <li>Competitors Advanced Analysis (CAA)</li>
                                        <li>Competitors Market Influencers Report List</li>
                                        <li>Influencer Analysis (IA)</li> 
                                        <li>Influencer Advanced Analysis (IAA)</li> 
                                        <li>Campaign Social Listening Analysis</li>
                                        <li>Industry Trends Analysis (TA)</li>
                                        <li>Trends Advanced Analysis (TAA)</li>
                                        <li>Real-Time Reporting</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                <!--  Item  -->
                    <div class="service-list-item">
                        <div class="sli-wrapper">
                            <h3>NEURO MARKETING</h3>

                            <div class="sli-right-cont">
                                <p>Neuromarketing takes you deep into how your audience engages with your brand. Using techniques such as facial coding, eye tracking, and EEG analysis, we decode emotions and subconscious decisions to understand audience reactions. Our goal is to empower your brand with scientifically-driven marketing decisions that create memorable and impactful experiences.</p>

                                <div class="sli-dropdown">
                                    <button>
                                        SHOW MORE
                                        <div>
                                            <img src="./images/down-arrow.png">
                                            <img src="./images/close-button.png">
                                        </div>
                                    </button>
                                    <ul>
                                        <li>FACIAL CODING</li>
                                        <li>EYE TRACKING</li>
                                        <li>EEG</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

            </section>

            <!--  Projects Screens  -->
            <section id="proj_screens">
                
                <div id="proj_screens_progress">
                    <svg width="200" height="200" viewBox="0 0 200 200">
                        <circle cx="100" cy="100" r="80" fill="none" stroke="#FFFFFF" stroke-width="3"/>
                        <circle cx="100" cy="100" r="80" fill="none" stroke="#00DFFF" stroke-width="7"
                            stroke-dasharray="502" stroke-dashoffset="502"/>
                    </svg>
                    <span>01</span>
                    <span>02</span>
                    <span>03</span>
                    <span>04</span>
                </div>

    
                <div class="proj-screen-item">
                    <a href="">
                        <span>Saudi Heritage Event</span>
                        <span>Saudi Heritage Event</span>
                    </a>
                    <img src="./images/project-fs-1.jpg">
                </div>

                <div class="proj-screen-item">
                    <a href="">
                        <span>Jeddah Architecture Expo</span>
                        <span>Jeddah Architecture Expo</span>
                    </a>
                    <img src="./images/project-fs-2.jpg">
                </div>

                <div class="proj-screen-item">
                    <a href="">
                        <span>Red Sea International Film Festival</span>
                        <span>Red Sea International Film Festival</span>
                    </a>
                    <img src="./images/project-fs-3.jpg">
                </div>

                <div class="proj-screen-item">
                    <a href="">
                        <span>Riyadh Dates Festival - 2024</span>
                        <span>Riyadh Dates Festival - 2024</span>
                    </a>
                    <img src="./images/project-fs-4.jpg">
                </div>


            </section>

            <section class="other-contents">
                other content
            </section>

            <section class="other-contents">
                other content
            </section>

        </main>
    <!-- End Main -->


    <!-- Begin JavaScript Files -->
        <script src="js/gsap.min.js"></script>
        <script src="js/three.js"></script>
        <script src="js/ScrollTrigger.min.js"></script>
        <script src="js/DrawSVGPlugin3.min.js"></script>
        <script src="js/split-text.js"></script>
        <script src="js/swiper-bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/pixi-filters@latest/dist/browser/pixi-filters.min.js"></script>








        
    <!-- End JavaScript Files -->

    <!-- Begin Animation JavaScript -->

        <script type="text/javascript">
            
            (function () {


                //  Variables
                    // const black_intro_div = document.querySelector("#black_intro_div");
                    // const intro_vid_masked_el = document.querySelector("#intro_video #video_masked_cont");
                    // const hero_sec_h1 = document.querySelector("#hero-section h1");
                    // const hero_sec_h3 = document.querySelector("#hero-section h3");
                    // const hero_sec_h4 = document.querySelector("#hero-section h4");
                    // const hero_sec_h5 = document.querySelector("#hero-section h5");
                    // const hero_sec_p_first = document.querySelectorAll("#hero-section p")[0];
                    // const hero_sec_p_second = document.querySelectorAll("#hero-section p")[1];
                    // const hero_sec_els = [hero_sec_h1, hero_sec_h3, hero_sec_h4, hero_sec_h5, hero_sec_p_first, hero_sec_p_second];
                    // const our_clients_h3_els = document.querySelectorAll(".our-clients h3");
                    // const our_clients_p_els = document.querySelectorAll(".our-clients p");
                    // const contact_us_wavy_path = document.querySelector("#contact-section-wave-svg textPath");
                    const item_els = gsap.utils.toArray('.service-list-item');

                //  Desktop Function
                    function desktopFunction() {

                        console.log("desktopFunction")

                        //  Pixi Canvas
                            //  Create App
                                const canvas = document.getElementById('serviceCanvas');
                                const app = new PIXI.Application({
                                    width: window.innerWidth,
                                    height: window.innerHeight,
                                    backgroundAlpha: 0, 
                                    view: canvas, 
                                    resizeTo: window 
                                });


                            //  Background Image
                                let bgSprite = null;

                                PIXI.Assets.load('./images/project-fs-2.jpg').then((texture) => {
                                    if (!texture) {
                                        console.error('Failed to load texture');
                                        return;
                                    }

                                    if (!bgSprite) { 
                                        bgSprite = new PIXI.Sprite(texture);
                                        bgSprite.anchor.set(0.5);
                                        app.stage.addChildAt(bgSprite, 0);
                                    }

                                    // Function to scale and position the background
                                    function resizeBackground() {
                                        console.log("resizeBackground triggered");

                                        const canvasWidth = app.renderer.width;
                                        const canvasHeight = app.renderer.height;
                                        const imgWidth = bgSprite.texture.width;
                                        const imgHeight = bgSprite.texture.height;

                                        // Scale to cover the canvas while maintaining aspect ratio
                                        const scale = Math.max(canvasWidth / imgWidth, canvasHeight / imgHeight);
                                        bgSprite.scale.set(scale);

                                        // Center the image
                                        bgSprite.x = canvasWidth / 2;
                                        bgSprite.y = canvasHeight / 2;
                                    }

                                    // Initial resize
                                    resizeBackground();

                                    // Listen for window resize events
                                    window.addEventListener('resize', () => {
                                        app.renderer.resize(window.innerWidth, window.innerHeight);
                                        resizeBackground(); // Only update the sprite, do NOT reload assets
                                    });

                                }).catch((err) => {
                                    console.error('Error loading image:', err);
                                });

                            //  Text
                                const textContainer = new PIXI.Container();
                                const padding = 50;
                                const spacing = 70;
                                let bottomY = app.screen.height - padding;

                                // Function to update text width dynamically
                                function updateTextWidth() {
                                    return {
                                        headingTextWidth: app.screen.width * 0.9,
                                        descriptionTextWidth: app.screen.width * 0.6,
                                    };
                                }

                                // Function to create text styles
                                function createTextStyles() {
                                    const { headingTextWidth, descriptionTextWidth } = updateTextWidth();

                                    return {
                                        headingStyle: new PIXI.TextStyle({
                                            fontFamily: 'Arial',
                                            fontSize: 90,
                                            fontWeight: 'bold',
                                            fill: '#ffffff',
                                            wordWrap: true,
                                            wordWrapWidth: headingTextWidth,
                                            resolution: window.devicePixelRatio
                                        }),
                                        descriptionStyle: new PIXI.TextStyle({
                                            fontFamily: 'Arial',
                                            fontSize: 30,
                                            fill: '#ffffff',
                                            lineHeight: 36,
                                            wordWrap: true,
                                            wordWrapWidth: descriptionTextWidth,
                                            resolution: window.devicePixelRatio
                                        })
                                    };
                                }

                                let { headingStyle, descriptionStyle } = createTextStyles();

                                const headingText = new PIXI.Text('DIGITAL TRANSFORMATION', headingStyle);
                                const descriptionText = new PIXI.Text(
                                    "We don’t just navigate technology—we harness it. Every click and interaction reflects your brand’s identity, shaping a digital presence that moves in sync with your vision.",
                                    descriptionStyle
                                );

                                textContainer.addChild(headingText);
                                textContainer.addChild(descriptionText);
                                app.stage.addChild(textContainer);

                                function alignText() {
                                    const { headingTextWidth, descriptionTextWidth } = updateTextWidth();

                                    // Update text styles with new widths
                                    headingText.style.wordWrapWidth = headingTextWidth;
                                    descriptionText.style.wordWrapWidth = descriptionTextWidth;
                                    
                                    descriptionText.x = padding;
                                    descriptionText.y = bottomY - descriptionText.height;
                                    headingText.x = padding;
                                    headingText.y = bottomY - headingText.height - descriptionText.height;
                                }

                                alignText();

                                window.addEventListener("resize", () => {
                                    ({ headingStyle, descriptionStyle } = createTextStyles());
                                    headingText.style = headingStyle;
                                    descriptionText.style = descriptionStyle;
                                    alignText();
                                });

                            //  Text Displacement Filter
                                // PIXI.Assets.load('./images/awzuINU_qrktxk.jpg').then((displacementTexture) => {
                                //     const displacementSprite = new PIXI.Sprite(displacementTexture);
                                //     displacementSprite.texture.baseTexture.wrapMode = PIXI.WRAP_MODES.REPEAT;
                                //     displacementSprite.width = app.screen.width * 4;
                                //     displacementSprite.height = app.screen.height * 2;

                                //     app.stage.addChild(displacementSprite);

                                //     const displacementFilter = new PIXI.filters.DisplacementFilter(displacementSprite);
                                //     displacementFilter.scale.set(40, 40);
                                //     displacementFilter.padding = 80;


                                //     textContainer.filters = [displacementFilter];

                                //     gsap.to(displacementSprite, {
                                //         x: "+=" + canvas.width,
                                //         duration: 25,
                                //         repeat: -1,
                                //         ease: "linear"
                                //     });
                                // }).catch((err) => {
                                //     console.error('Error loading displacement texture:', err);
                                // });

                            //  Moving Cursor Stuff
                                PIXI.Assets.load('./images/displace_high_contrast.png').then((displacementRingTexture) => {

                                    const displacementRingSprite = new PIXI.Sprite(displacementRingTexture);
                                    displacementRingSprite.width = 250;
                                    displacementRingSprite.height = 250;
                                    displacementRingSprite.padding = 100;

                                    app.stage.addChild(displacementRingSprite);

                                    const displacementRingFilter = new PIXI.filters.DisplacementFilter(displacementRingSprite);
                                    displacementRingFilter.scale.set(-100, -100);
                                    app.stage.filters = [displacementRingFilter];

                                    //  Mousemove Event
                                        canvas.addEventListener("mousemove", (event) => {
                                            const rect = canvas.getBoundingClientRect();
                                            const x = event.clientX - rect.left - displacementRingSprite.width / 2;
                                            const y = event.clientY - rect.top - displacementRingSprite.height / 2;

                                            gsap.to(displacementRingSprite, {
                                                x: x,
                                                y: y,
                                                duration: 1.5,
                                                ease: "power3.out"
                                            });
                                        });

                                }).catch((err) => {
                                    console.error('Error loading displacement texture:', err);
                                });


                            //  Wavy Text Effect
                                const wavyFragmentShader = `
                                    precision mediump float;
                                    varying vec2 vTextureCoord;
                                    uniform sampler2D uSampler;
                                    uniform float time;
                                    
                                    uniform float amplitudeY;  // Vertical wave height
                                    uniform float frequencyY;  // Vertical wave frequency
                                    uniform float speedY;      // Vertical wave speed
                                    
                                    uniform float amplitudeX;  // Horizontal wave height
                                    uniform float frequencyX;  // Horizontal wave frequency
                                    uniform float speedX;      // Horizontal wave speed
                                    
                                    void main(void) {
                                        vec2 uv = vTextureCoord;

                                        // Vertical wave effect
                                        uv.y += sin(uv.x * frequencyY + time * speedY) * amplitudeY;
                                        uv.y += sin(uv.x * (frequencyY * 0.7) + time * (speedY * 1.3)) * (amplitudeY * 0.7);

                                        // Horizontal wave effect (subtle left-right movement)
                                        uv.x += cos(uv.y * frequencyX + time * speedX) * amplitudeX;
                                        uv.x += cos(uv.y * (frequencyX * 0.8) + time * (speedX * 1.1)) * (amplitudeX * 0.5);

                                        gl_FragColor = texture2D(uSampler, uv);
                                    }
                                `;

                                const wavyShaderUniforms = {
                                    time: 1,
                                    
                                    amplitudeY: 0.009, // Lowered for a softer vertical effect
                                    frequencyY: 11.0,
                                    speedY: 0.6, 

                                    amplitudeX: 0.002, // Lowered for a subtle horizontal effect
                                    frequencyX: 3.0,
                                    speedX: 0.4
                                };

                                const wavyFilter = new PIXI.Filter(null, wavyFragmentShader, wavyShaderUniforms);
                                wavyFilter.padding = 20;  // Increase padding to allow movement beyond bounds
                                textContainer.filters = [wavyFilter];

                                app.ticker.add((delta) => {
                                    wavyFilter.uniforms.time += 0.05 * delta;
                                });


                            // Apply the RGB Split filter
                                // let rgbSplitFilter = new PIXI.filters.RGBSplitFilter();
                                // rgbSplitFilter.red = [-10, 0];
                                // rgbSplitFilter.green = [0, 10];
                                // rgbSplitFilter.blue = [10, -10];

                                // descriptionText.filters = [rgbSplitFilter];

                                // const waveShader = new PIXI.Filter(null, `
                                //     precision mediump float;
                                //     varying vec2 vTextureCoord;
                                //     uniform sampler2D uSampler;
                                //     uniform float u_time;
                                    
                                //     void main() {
                                //         vec2 uv = vTextureCoord;
                                //         uv.y += sin(uv.x * 10.0 + u_time) * 0.02; // Apply wave effect
                                //         gl_FragColor = texture2D(uSampler, uv);
                                //     }
                                // `, {
                                //     u_time: 0
                                // });

                                // // Apply shader to sprite
                                // textContainer.filters = [waveShader];

                                // // Animate the shader
                                // app.ticker.add(delta => {
                                //     waveShader.uniforms.u_time += 0.05 * delta;
                                // });








                        //  Services List
                            item_els.forEach(item => {
                                gsap.set(item, { x: 600 });
                            });

                            item_els.forEach(item => {
                            gsap.to(item, { 
                                x: 0,
                                ease: "power4.out",
                                immediateRender: false, // Prevents GSAP from applying the animation before ScrollTrigger
                                scrollTrigger: {
                                  trigger: item,
                                  start: "top 90%",
                                  end: "+=700px",
                                  scrub: 0.5,
                                  // markers: true
                                }
                              })
                            });
                            

                        //  Projects Screen
                            document.querySelectorAll(".proj-screen-item").forEach((el, index) => {
                                el.style.zIndex = document.querySelectorAll(".proj-screen-item").length - index;
                                gsap.set(el, { clipPath: "polygon(0 0, 100% 0, 100% 100%, 0% 100%)" });
                            });

                            const hero_section_tl = gsap.timeline({
                                scrollTrigger: {
                                    trigger: "#proj_screens",
                                    start: "top top",
                                    end: "+=400%",
                                    pin: true,
                                    anticipatePin: 0.1,
                                    scrub: 1,
                                    ease: 'none',
                                    onUpdate: function (self) {
                                        
                                        let progress = self.progress * 100;
                                        let mappedProgress = 501 + (progress / 100) * (1010 - 501);
                                        console.log(mappedProgress.toFixed(2));

                                        gsap.to(document.querySelector("#proj_screens_progress").querySelector("svg circle:nth-of-type(2)"), {
                                            strokeDasharray: mappedProgress.toFixed(2)
                                        });

                                        if (progress <= 25) {
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span").forEach(el => {
                                                el.classList.remove("show");
                                            });
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span")[0].classList.add("show");
                                        } else if (progress <= 50) {
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span").forEach(el => {
                                                el.classList.remove("show");
                                            });
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span")[1].classList.add("show");
                                        } else if (progress <= 75) {
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span").forEach(el => {
                                                el.classList.remove("show");
                                            });
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span")[2].classList.add("show");
                                        } else {
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span").forEach(el => {
                                                el.classList.remove("show");
                                            });
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span")[3].classList.add("show");
                                        }
                                    },
                                }
                            });

                            const elements = gsap.utils.toArray(".proj-screen-item:not(:last-child)");

                            // Animate each element individually
                            elements.forEach((item, index) => {

                                hero_section_tl.to(item, {
                                    css: { 
                                        clipPath: "polygon(0px 0%, 100% 0px, 100% 0px, 0px 0px)",
                                        WebkitClipPath: "polygon(0px 0px, 100% 0px, 100% 0px, 0px 0px)"
                                    },
                                    stagger: 0.5,
                                });

                                hero_section_tl.to(item.querySelector('img'), {
                                    scale: 1.3,
                                    stagger: 0.5,
                                }, "<");

                            });


                        window.addEventListener("load", () => {
                            ScrollTrigger.refresh();
                        });

                    }

                //  Mobile Timeline
                    function mobileFunction() {

                        console.log("mobileFunction");

                        ScrollTrigger.config({ 
                            ignoreMobileResize: true,
                            autoRefreshEvents: "" 
                        });

                        //  Services List
                            item_els.forEach(item => {
                                gsap.set(item, { x: 400 });
                            });

                            item_els.forEach(item => {
                            gsap.to(item, { 
                                x: 0,
                                ease: "power4.out",
                                immediateRender: false, // Prevents GSAP from applying the animation before ScrollTrigger
                                scrollTrigger: {
                                  trigger: item,
                                  start: "top 80%",
                                  end: "+=700px",
                                  scrub: 0.5,
                                  // markers: true
                                }
                              })
                            });
                        
                        //  Projects Screen
                            document.querySelectorAll(".proj-screen-item").forEach((el, index) => {
                                el.style.zIndex = document.querySelectorAll(".proj-screen-item").length - index;
                                gsap.set(el, { clipPath: "polygon(0 0, 100% 0, 100% 100%, 0% 100%)" });
                            });

                            const hero_section_tl = gsap.timeline({
                                scrollTrigger: {
                                    trigger: "#proj_screens",
                                    start: "top top",
                                    end: "+=400%",
                                    pin: true,
                                    anticipatePin: 1,
                                    scrub: 1,
                                    ease: 'none',
                                    onUpdate: function (self) {
                                        
                                        let progress = self.progress * 100;
                                        let mappedProgress = 501 + (progress / 100) * (1010 - 501);
                                        console.log(mappedProgress.toFixed(2));

                                        gsap.to(document.querySelector("#proj_screens_progress").querySelector("svg circle:nth-of-type(2)"), {
                                            strokeDasharray: mappedProgress.toFixed(2)
                                        });

                                        if (progress <= 25) {
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span").forEach(el => {
                                                el.classList.remove("show");
                                            });
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span")[0].classList.add("show");
                                        } else if (progress <= 50) {
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span").forEach(el => {
                                                el.classList.remove("show");
                                            });
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span")[1].classList.add("show");
                                        } else if (progress <= 75) {
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span").forEach(el => {
                                                el.classList.remove("show");
                                            });
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span")[2].classList.add("show");
                                        } else {
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span").forEach(el => {
                                                el.classList.remove("show");
                                            });
                                            document.querySelectorAll("#proj_screens #proj_screens_progress span")[3].classList.add("show");
                                        }
                                    },
                                }
                            });

                            const elements = gsap.utils.toArray(".proj-screen-item:not(:last-child)");

                            // Animate each element individually
                            elements.forEach((item, index) => {
                                hero_section_tl.to(item, {
                                    css: { 
                                        clipPath: "polygon(0px 0%, 100% 0px, 100% 0px, 0px 0px)",
                                        WebkitClipPath: "polygon(0px 0px, 100% 0px, 100% 0px, 0px 0px)"
                                    },
                                    stagger: 0.5,
                                });
                            });


                    }

                //  Both Desktop and Mobile
                    //  Service Items Show More Button Event
                        item_els.forEach(el => {
                            el.querySelector("button").addEventListener("click", (event) => {
                                const button = event.target;
                                const nextEl = button.nextElementSibling;

                                if (button.classList.contains('opened')) {
                                    button.classList.remove('opened');
                                    nextEl.classList.remove('show-item-ul');
                                } else {
                                    button.classList.add('opened');
                                    nextEl.classList.add('show-item-ul');
                                }

                                ScrollTrigger.refresh();
                            });
                        });


                //  Check DOMContentLoaded and load (assets (images, stylesheets, fonts, etc..) events are done
                    document.addEventListener("DOMContentLoaded", () => {
                        console.log("DOM fully loaded and parsed");

                        // Wait for all fonts to be fully loaded
                        document.fonts.ready.then(() => {
                            console.log("All fonts loaded");

                            setTimeout(() => {
                                // Check if the load event has already fired
                                if (document.readyState === "complete") {
                                    homePageFunc();
                                } else {
                                    window.addEventListener("load", homePageFunc);
                                }
                            }, 500);

                        });
                    });


                //  Homepage Function
                    function homePageFunc() {

                        console.log("HOME PAGE FUNCTION")

                        //  GSAP Config
                            gsap.registerPlugin(ScrollTrigger, DrawSVGPlugin);
                            gsap.config({ force3D: true, trialWarn: false });
                            // ScrollTrigger.config({ ignoreMobileResize: true, fastScrollEnd: true });

                        //  Update ScrollTrigger on resize
                            // let resizeTimeout;
                            // window.addEventListener("resize", () => {
                            //   clearTimeout(resizeTimeout);
                            //   resizeTimeout = setTimeout(() => {
                            //     ScrollTrigger.refresh();
                            //   }, 200);
                            // });

                        //  GSAP Media Query
                            let gsapMediaQueries = gsap.matchMedia();

                            gsapMediaQueries.add("(min-width: 768px)", () => {
                                desktopFunction();                                
                            });

                            gsapMediaQueries.add("(max-width: 767px)", () => {
                                mobileFunction();
                            });

                    }


            })();
        </script>
    <!-- End Animation JavaScript -->

</body>


</html>
